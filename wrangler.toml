name = "animatch"
compatibility_date = "2024-12-01"
pages_build_output_dir = "dist"

# R2 Bucket (ONNX models)
[[r2_buckets]]
binding = "R2"
bucket_name = "animatch-models"

# D1 Database (analytics)
[[d1_databases]]
binding = "DB"
database_name = "animatch-db"
database_id = "b5911fc7-37d3-47f1-aab3-7ca4c5c46ddf"
migrations_dir = "migrations"

# KV Namespace (rate limiting)
[[kv_namespaces]]
binding = "KV"
id = "a8c4a36e06224fdc8c2764f8e2e38b6f"

# Environment variables
[vars]
REPORTING_PROXY_URL = "https://animatch-reporting-proxy.midori.workers.dev"
ALLOWED_ORIGIN = "https://animatch.midori-lab.com"

# Worker Secret Bindings (set via CLI, never in this file):
#   wrangler secret put ANIMATCH_SECRET
#   â†’ used as X-AniMatch-Secret header when calling the reporting proxy
